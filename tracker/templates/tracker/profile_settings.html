{% extends 'base.html' %}

{% block title %}Profile Settings{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 3rem auto;">
    <div style="margin-bottom: 2rem;">
        <h1 class="page-title">Profile Settings</h1>
        <p class="page-subtitle">Manage your account preferences</p>
    </div>
    
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">Financial Settings</h2>
        </div>
        
        <form method="post" style="padding: 1.5rem;">
            {% csrf_token %}
            
            <div class="form-group">
                <label class="form-label">Monthly Income</label>
                <div style="position: relative;">
                    <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-secondary); font-weight: 600;">â‚¹</span>
                    <input type="number" 
                           name="monthly_income" 
                           class="form-control" 
                           style="padding-left: 2.5rem;"
                           step="0.01" 
                           value="{{ profile.monthly_income }}"
                           required>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Preferred Currency</label>
                <select name="currency" class="form-control">
                    {% for currency in currencies %}
                    <option value="{{ currency.id }}" {% if profile.currency.id == currency.id %}selected{% endif %}>
                        {{ currency.symbol }} {{ currency.name }} ({{ currency.code }})
                    </option>
                    {% endfor %}
                </select>
                <div style="color: var(--text-tertiary); font-size: 0.8125rem; margin-top: 0.25rem;">
                    INR is recommended for Indian users
                </div>
            </div>
            
            <div style="display: flex; gap: 0.75rem; margin-top: 1.5rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Save Changes</button>
                <a href="{% url 'dashboard' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
    
    <!-- Account Info -->
    <div class="card" style="margin-top: 1.5rem;">
        <div class="card-header">
            <h2 class="card-title">Account Information</h2>
        </div>
        <div style="padding: 1.5rem;">
            <div style="display: grid; gap: 1rem;">
                <div>
                    <div style="font-size: 0.875rem; color: var(--text-tertiary); margin-bottom: 0.25rem;">Username</div>
                    <div style="font-weight: 600; color: var(--text-primary);">{{ user.username }}</div>
                </div>
                <div>
                    <div style="font-size: 0.875rem; color: var(--text-tertiary); margin-bottom: 0.25rem;">Account Created</div>
                    <div style="font-weight: 600; color: var(--text-primary);">{{ user.date_joined|date:"d M Y" }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
